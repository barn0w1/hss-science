version: v2

inputs:
  - directory: proto

plugins:
  # 1. Go Structs (Type Definitions)
  - remote: buf.build/protocolbuffers/go
    out: server/gen
    opt: paths=source_relative

  # 2. Go gRPC Communication Code (Server/Client)
  - remote: buf.build/grpc/go
    out: server/gen
    opt: paths=source_relative

  # 3. OpenAPI (Swagger) JSON
  # API Definition for the Frontend (SPA)
  #- remote: buf.build/grpc-ecosystem/openapiv2
  #  out: web/packages/api/openapi
  #  opt:
  #    - json_names_for_fields=false
  #    - allow_merge=false